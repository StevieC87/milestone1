<%- include('./includes/head.ejs') %>
<!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
</head>

<style> 

.i-circle {
    background: #EEE;
    color: #000;
    padding: 5px 20px;
    border-radius: 50%;
    font-size: 35px;
}
</style>
<body>
  
<%- include('./includes/nav.ejs') %>


<form action="">
    <h1 class="centertxt">Pick a word</h1>
   <!--  <label for="word"></label> -->
    <div class="flexcenter">
        <a class="btn btn-primary centertxt" id="generatewordbutton">Suggest</a>
    </div>
    <div class="flexcenter" >
        
        <div id="word" style="height: 70px; font-size: 18pt;"></div>
    </div>
    
    <!-- <input type="text" id="word" > -->

    <div id="pickcentreletterloop">


    </div>
    <div id="loopletters">

    </div>
  <!--   <span class="i-circle">i</span>
     -->

    <label for="centre letter">Pick the centre letter</label>
    <input type="radio" name="centreletter" value="1">1
    <div id="show total matches"></div>
    <div id="show matching words">

    </div>

</form>

<script>
  
document.querySelector('#generatewordbutton').addEventListener('click', async callback => {
   // fetch('/miniwordlist.json')
   await fetch('/getwordsgenerate')
   .then(response => response.json())
  .then(data => {
      console.log(data);
      document.querySelector('#word').textContent = data.word;
    
      let worduniqueletters = data.matchingwords.uniqueStr;
      let arrayofuniqueletters = data.matchingwords.arrayofuniqueletters;
      console.log(worduniqueletters);
      console.log(data.matchingwords.arrayofuniqueletters,'arrayofuniqueletters');
      let parentappend = document.querySelector('#loopletters')
      arrayofuniqueletters.forEach((letter, index) => {
            console.log(letter, index);
            let spanmake = document.createElement("span");
            spanmake.className = "i-circle";
            spanmake.appendChild(document.createTextNode(letter));
            parentappend.appendChild(spanmake);
        });
    })
    .then(after => {
        
    })
	

  /*   .then(res => {d
       // console.log(await 'hello');
    //  console.log(res.text());
      console.log(res.json());
      
        //console.log(res.json());
      //  console.log(await res);
    })
    .catch(err => {
        console.error(err);
    }); */
    /* .then(test => {
        console.log(test,'test')
    }) */

    //.then(response => response.json())
    //.then(data => console.log(data)); 

});

</script>









<%- include('./includes/footer.ejs') %>

</body>

</html>